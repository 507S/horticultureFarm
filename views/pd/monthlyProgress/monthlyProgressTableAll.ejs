<%if (centers.length >0){ %>
    <table class="table table-bordered table-striped" id="tblexportData">
      <thead>
        <tr>
          <th>ক্রমিক নং</th>
          <th>সেন্টারের নাম</th>
          <th>উৎপাদন (লক্ষ্যমাত্রা)</th>
          <th>উৎপাদন (চলতি মাস)</th>
          <th>উৎপাদন (পূর্বমাস পর্যন্ত)</th>
          <th>মোট উৎপাদন (চলতি+পূর্ব মাস)</th>
          <th>ডিএই চালানে প্রাপ্তি</th>
          <th>পূর্ব বছরের জের</th>
          <th>সর্বমোট (মোট+ডিএই চালানে প্রাপ্তি+পূর্ব বছরের জের)</th>
          <th>বিতরণ (চলতি মাস)</th>
          <th>বিতরণ (পূর্বমাস পর্যন্ত)</th>
          <th>বিতরণ মোট (চলতি+পূর্ব মাস)</th>
          <th>ডিএই চালানে প্রদান</th>
          <th>মৃত/বিনষ্ট রাইটআপ</th>
          <th>সর্বমোট (মোট+ডিএই চালানে প্রদান+মৃত/বিনষ্ট রাইটআপ)</th>
          <th>নীট মজুদ</th>
        </tr>
      </thead>
      <tbody>
        <% var totalProdTargetCenter=0 %>
        <% var prodCurrMonthCenter=0 %>
        <% var prodPrevMonthCenter=0 %>
        <% var totalProdCenter=0 %>
        <% var praptiDiyCenter=0 %>
        <% var prevYearJerCenter=0 %>
        <% var prodOverallCenter=0 %>
        <% var bitoronCurrMonthCenter=0 %>
        <% var bitoronPrevMonthCenter=0 %>
        <% var totalBitoronCenter=0 %>
        <% var diyProdanCenter=0 %>
        <% var deadWriteupCenter=0 %>
        <% var totalUsedCenter=0 %>
        <% var mojudCenter=0 %>
        <% centers.forEach(function(center,index){ %>
        <tr>
          <td><%=index+1%></td>
          <td><%=center.center %></td>
          <% var totalProdTarget=0;%>
          <% var prodCurrMonth=0;%>
          <% var prodPrevMonth=0;%>
          <% var totalProd=0;%>
          <% var praptiDiy=0;%>
          <% var prevYearJer=0;%>
          <% var prodOverall=0;%>
          <% var bitoronCurrMonth=0;%>
          <% var bitoronPrevMonth=0;%>
          <% var totalBitoron=0;%>
          <% var diyProdan=0;%>
          <% var deadWriteup=0;%>
          <% var totalUsed=0;%>
          <% var mojud=0;%>
          <% records.forEach(function(row){ %>
          <% if (center.id === row.centerId){%>
          <%  const prodTarget = JSON.parse(row.productionTarget) %>
          <%  totalProdTarget+=parseInt(prodTarget[0].amount) %>
          <%  prodCurrMonth+=parseInt(0) %>
          <%  prodPrevMonth+=parseInt(row.prodPrevMonth) %>
          <%  totalProd+= prodCurrMonth+ prodPrevMonth%>
          <%  praptiDiy+=parseInt(row.praptiDiy) %>
          <%  prevYearJer+=parseInt(row.prevYearJer)  %>
          <%  prodOverall+=totalProd+ praptiDiy+ prevYearJer %>
          <%  bitoronCurrMonth+=parseInt(row.bitoronCurrMonth) %>
          <%  bitoronPrevMonth+=parseInt(row.bitoronPrevMonth)  %>
          <%  totalBitoron+=bitoronCurrMonth+bitoronPrevMonth %>
          <%  diyProdan+=parseInt(row.diyProdan) %>
          <%  deadWriteup+=parseInt(row.deadWriteup) %>
          <%  totalUsed+=totalBitoron+diyProdan+deadWriteup  %>
          <%  mojud+=prodOverall-totalUsed %>
    
          <%}}) %>
    
          <td><%= totalProdTarget %></td>
          <% totalProdTargetCenter+=parseInt(totalProdTarget) %>
          <td><%= prodCurrMonth %></td>
          <% prodCurrMonthCenter+=parseInt(prodCurrMonth) %>
          <td><%= prodPrevMonth %></td>
          <% prodPrevMonthCenter+=parseInt(prodPrevMonth) %>
          <td><%= totalProd %></td>
          <% totalProdCenter+=parseInt(totalProd) %>
          <td><%= praptiDiy %></td>
          <% praptiDiyCenter+=parseInt(praptiDiy) %>
          <td><%= prevYearJer %></td>
          <% prevYearJerCenter+=parseInt(prevYearJer) %>
          <td><%= prodOverall %></td>
          <% prodOverallCenter+=parseInt(prodOverall) %>
          <td><%= bitoronCurrMonth %></td>
          <% bitoronCurrMonthCenter+=parseInt(bitoronCurrMonth) %>
          <td><%= bitoronPrevMonth %></td>
          <% bitoronPrevMonthCenter+=parseInt(bitoronPrevMonth) %>
          <td><%= totalBitoron %></td>
          <% totalBitoronCenter+=parseInt(totalBitoron) %>
          <td><%= diyProdan %></td>
          <% diyProdanCenter+=parseInt(diyProdan) %>
          <td><%= deadWriteup %></td>
          <% deadWriteupCenter+=parseInt(deadWriteup) %>
          <td><%= totalUsed %></td>
          <% totalUsedCenter+=parseInt(totalUsed) %>
          <td><%= mojud %></td>
          <% mojudCenter+=parseInt(mojud) %>
        </tr>
        <% }) %>
        <tr>
          <td colspan="2">মোটঃ সকল সেন্টারের তথ্য</td>
          <td><%= totalProdTargetCenter %></td>
          <td><%= prodCurrMonthCenter %></td>
          <td><%= prodPrevMonthCenter %></td>
          <td><%= totalProdCenter %></td>
          <td><%= praptiDiyCenter %></td>
          <td><%= prevYearJerCenter %></td>
          <td><%= prodOverallCenter %></td>
          <td><%= bitoronCurrMonthCenter %></td>
          <td><%= bitoronPrevMonthCenter %></td>
          <td><%= totalBitoronCenter %></td>
          <td><%= diyProdanCenter %></td>
          <td><%= deadWriteupCenter %></td>
          <td><%= totalUsedCenter %></td>
          <td><%= mojudCenter %></td>
    
        </tr>
      </tbody>
    </table>
    <% }else{ %>
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
            <th>ক্রমিক নং</th>
            <th>সেন্টারের নাম</th>
            <th>উৎপাদন (লক্ষ্যমাত্রা)</th>
            <th>উৎপাদন (চলতি মাস)</th>
            <th>উৎপাদন (পূর্বমাস পর্যন্ত)</th>
            <th>মোট উৎপাদন (চলতি+পূর্ব মাস)</th>
            <th>ডিএই চালানে প্রাপ্তি</th>
            <th>পূর্ব বছরের জের</th>
            <th>সর্বমোট (মোট+ডিএই চালানে প্রাপ্তি+পূর্ব বছরের জের)</th>
            <th>বিতরণ (চলতি মাস)</th>
            <th>বিতরণ (পূর্বমাস পর্যন্ত)</th>
            <th>বিতরণ মোট (চলতি+পূর্ব মাস)</th>
            <th>ডিএই চালানে প্রদান</th>
            <th>মৃত/বিনষ্ট রাইটআপ</th>
            <th>সর্বমোট (মোট+ডিএই চালানে প্রদান+মৃত/বিনষ্ট রাইটআপ)</th>
            <th>নীট মজুদ</th>
        </tr>
      </thead>
      <tbody>
        <% centers.forEach(function(row){ %>
        <tr>
          <td colspan="10">No data Found</td>
        </tr>
        <% }) %>
      </tbody>
    </table>
    <% } %>